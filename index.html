<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Happy Birthday Ponnus â€” From Jinu ğŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
:root{
  --pink:#ff5c8d;
  --bg1:#ffdce6;
  --bg2:#fff7fb;
}

body{
  margin:0;
  font-family:Poppins,system-ui;
  background:linear-gradient(135deg,var(--bg1),var(--bg2));
  min-height:100vh;
}

.wrap{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
}

.card{
  width:100%;
  max-width:800px;
  background:white;
  border-radius:18px;
  box-shadow:0 20px 45px rgba(0,0,0,.12);
  padding:24px;
  text-align:center;
}

h1{
  font-family:"Dancing Script",cursive;
  color:var(--pink);
  font-size:42px;
  margin:0;
}

.lead{
  margin-top:6px;
  color:#555;
}

.controls{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  justify-content:center;
  margin:18px 0;
}

.btn{
  background:var(--pink);
  color:white;
  border:none;
  padding:10px 16px;
  border-radius:12px;
  font-weight:600;
  cursor:pointer;
}

.ghost{
  background:white;
  color:var(--pink);
  border:2px solid var(--pink);
}

#timer{
  font-weight:700;
  margin-top:10px;
  font-size:18px;
}

.quoteBox{
  margin-top:10px;
  font-style:italic;
  min-height:28px;
  font-weight:600;
  color:#6b2f3b;
}

/* MODALS */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.5);
  display:flex;
  align-items:center;
  justify-content:center;
  visibility:hidden;
  opacity:0;
  transition:.3s;
}

.modal.show{
  visibility:visible;
  opacity:1;
}

.modal-card{
  background:white;
  padding:20px;
  border-radius:14px;
  width:90%;
  max-width:500px;
}

.modal-card h2{
  font-family:"Dancing Script";
  color:var(--pink);
}

.close{
  padding:8px 14px;
  border:none;
  background:#eee;
  border-radius:10px;
  cursor:pointer;
}

/* âœ…âœ…âœ… FIREWORK STYLE (FIXED) âœ…âœ…âœ… */
.firework{
  position:fixed;
  width:8px;
  height:8px;
  border-radius:50%;
  pointer-events:none;
  animation:boom 1.4s ease-out forwards;
}

@keyframes boom{
  from{ transform:scale(1); opacity:1; }
  to{ transform:scale(14); opacity:0; }
}

.small{
  margin-top:14px;
  font-size:13px;
  color:#777;
}
</style>
</head>

<body>

<div class="wrap">
  <div class="card">
    <h1>Happy Birthday Ponnus ğŸ’–</h1>
    <p class="lead">A romantic surprise from <strong>Jinu</strong></p>

    <div id="timer">â³ Click countdown to start</div>

    <div class="controls">
      <button class="btn" onclick="openLove()">ğŸ’Œ Love Letter</button>
      <button class="btn" onclick="toggleCountdown()">â³ Countdown</button>
      <button class="btn" onclick="openSurprise()">ğŸ Surprise</button>
      <button class="ghost" onclick="startFireworks()">ğŸ† Fireworks</button>
      <button class="btn" id="musicBtn" onclick="toggleMusic()">â–¶ Music</button>
      <button class="ghost" onclick="nextQuote()">ğŸ’¬ Quote</button>
    </div>

    <div class="quoteBox" id="quoteBox">Click Quote to see love lines ğŸ’•</div>

    <div class="small">
      Open this on <b>December 14</b> at midnight â¤ï¸
    </div>
  </div>
</div>

<!-- LOVE LETTER -->
<div class="modal" id="loveModal">
  <div class="modal-card">
    <h2>My Dearest Ponnus ğŸ’–</h2>
    <p>
      You changed my world with your smile.  
      Every heartbeat of mine whispers your name.  
      On your birthday, I promise my love forever.  
      <br><br>
      â€” Jinu â¤ï¸
    </p>
    <button class="close" onclick="closeLove()">Close</button>
  </div>
</div>

<!-- SURPRISE -->
<div class="modal" id="surpriseModal">
  <div class="modal-card">
    <h2>Surprise ğŸ</h2>
    <p>
      Your real surprise is waiting in my arms tonight ğŸ’•  
      Happy Birthday my love!
    </p>
    <button class="close" onclick="closeSurprise()">Close</button>
  </div>
</div>

<!-- MUSIC -->
<audio id="bg" preload="auto">
  <source src="music.mp3" type="audio/mpeg">
</audio>

<script>
/* âœ… QUOTES */
const quotes=[
 "I love you more than words ğŸ’–",
 "You are my forever â¤ï¸",
 "My heart beats only for you ğŸ’•",
 "Every moment with you is magic âœ¨"
];
let q=0;
function nextQuote(){
 document.getElementById("quoteBox").innerText=quotes[q];
 q=(q+1)%quotes.length;
}

/* âœ… LOVE LETTER */
function openLove(){ loveModal.classList.add("show"); }
function closeLove(){ loveModal.classList.remove("show"); }

/* âœ… SURPRISE */
function openSurprise(){ surpriseModal.classList.add("show"); }
function closeSurprise(){ surpriseModal.classList.remove("show"); }

/* âœ… MUSIC */
const bg=document.getElementById("bg");
let playing=false;
function toggleMusic(){
 if(!playing){
  bg.play();
  playing=true;
  musicBtn.innerText="â¸ Pause";
 }else{
  bg.pause();
  playing=false;
  musicBtn.innerText="â–¶ Music";
 }
}

/* âœ… COUNTDOWN */
let running=false, timerLoop=null;
function toggleCountdown(){
 if(running){ clearInterval(timerLoop); running=false; timer.innerText="â³ Click countdown to start"; return;}
 const now=new Date();
 let year=now.getFullYear();
 let target=new Date(`December 14, ${year} 00:00:00`).getTime();
 if(target<now.getTime()) target=new Date(`December 14, ${year+1} 00:00:00`).getTime();
 running=true;
 timerLoop=setInterval(()=>{
  const diff=target-Date.now();
  if(diff<=0){
   clearInterval(timerLoop);
   timer.innerText="ğŸ‰ Happy Birthday Ponnus!";
   return;
  }
  const d=Math.floor(diff/(1000*60*60*24));
  const h=Math.floor((diff/(1000*60*60))%24);
  const m=Math.floor((diff/(1000*60))%60);
  const s=Math.floor((diff/1000)%60);
  timer.innerText=`â³ ${d}d ${h}h ${m}m ${s}s`;
 },1000);
}

/* âœ…âœ…âœ… REAL FIREWORK SYSTEM (FIXED) âœ…âœ…âœ… */
let fwInterval=null;
function startFireworks(){
 if(fwInterval) return;
 fwInterval=setInterval(()=>{
  for(let i=0;i<10;i++){
   const f=document.createElement("div");
   f.className="firework";
   f.style.left=Math.random()*100+"vw";
   f.style.top=Math.random()*100+"vh";
   f.style.background=`hsl(${Math.random()*360},100%,60%)`;
   document.body.appendChild(f);
   setTimeout(()=>f.remove(),1400);
  }
 },350);
}
</script>

</body>
</html>
