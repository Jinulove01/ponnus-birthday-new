<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy Birthday Ponnus ğŸ’–</title>

<style>
  body {
    margin: 0;
    font-family: Arial, Helvetica, sans-serif;
    background: linear-gradient(135deg, #ff758c, #ff7eb3);
    text-align: center;
    color: white;
  }

  h1 { margin-top: 20px; }

  .buttons { margin: 14px 0; }
  .buttons button {
    margin: 8px;
    padding: 10px 18px;
    border-radius: 22px;
    border: none;
    font-size: 15px;
    cursor: pointer;
    background: white;
    color: #ff4b7d;
  }

  #timer { margin-top: 12px; font-size: 18px; }

  /* popup (love letter) */
  .popup {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.7);
    justify-content: center;
    align-items: center;
  }
  .popup-box {
    background: white;
    color: black;
    width: 90%;
    max-width: 420px;
    padding: 18px;
    border-radius: 14px;
    text-align: left;
  }

  /* cake */
  #cake {
    width: 220px;
    margin: 18px auto;
    display: block;
    transition: transform 0.45s ease, opacity 0.6s ease;
    user-select: none;
    -webkit-user-drag: none;
  }
  #cakeMsg {
    display: none;
    margin-top: 12px;
    font-size: 18px;
    color: #fffbe6;
  }

  /* fireworks */
  .firework {
    position: fixed;
    width: 10px;
    height: 10px;
    background: yellow;
    border-radius: 50%;
    animation: boom 1s linear;
    pointer-events: none;
  }
  @keyframes boom {
    from { transform: scale(1); opacity: 1; }
    to   { transform: scale(10); opacity: 0; }
  }

  /* quotes */
  #quoteText { margin-top: 6px; font-size: 18px; min-height: 26px; }
</style>
</head>

<body>

  <h1>ğŸ‚ Happy Birthday My Ponnus ğŸ’–</h1>

  <div class="buttons">
    <button onclick="openPopup()">ğŸ’Œ Love Letter</button>
    <button onclick="openGallery()">ğŸ–¼ Photo Gallery</button>
    <button onclick="toggleCountdown()">â³ Countdown</button>
    <button onclick="openSurprise()">ğŸ Surprise</button>
    <button onclick="startFireworks()">ğŸ† Fireworks</button>
    <button onclick="showQuote()">ğŸ’¬ Quote</button>
    <button onclick="openCake()">ğŸ‚ Cut Cake</button>
    <button onclick="toggleMusic()">â–¶ Music</button>
  </div>

  <div id="countContainer">
    <div id="timer"></div>
  </div>

  <div id="quoteText"></div>

  <!-- cake area -->
  <img id="cake" src="cake.png" alt="cake image">
  <p id="cakeMsg">ğŸ‰ Happy Birthday My Love Ponnus! May all your dreams come true ğŸ’– â€” Jinu</p>

  <!-- popup (love letter) -->
  <div class="popup" id="popup">
    <div class="popup-box">
      <h2>My Love Letter ğŸ’–</h2>
      <p>
        Happy Birthday my jaan Ponnus ğŸ’•<br>
        You are my heart, my happiness, my everything. I promise to love you forever â¤ï¸<br>
        â€” Jinu
      </p>
      <div style="text-align:right">
        <button onclick="closePopup()">Close</button>
      </div>
    </div>
  </div>

  <!-- audio -->
  <audio id="bgMusic">
    <source src="music.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

<script>
/* ---------- Basic UI handlers ---------- */
function openPopup(){ document.getElementById('popup').style.display = 'flex'; }
function closePopup(){ document.getElementById('popup').style.display = 'none'; }

/* Photo gallery placeholder (you can expand later) */
function openGallery(){
  alert('Photo gallery coming soon â€” you can upload images named photo1.jpg, photo2.jpg, photo3.jpg to repo.');
}

/* Surprise placeholder */
function openSurprise(){
  alert('Surprise is: I love you, Ponnus ğŸ’–');
}

/* ---------- Music controls ---------- */
const musicEl = document.getElementById('bgMusic');
let musicPlaying = false;
function toggleMusic(){
  if(!musicPlaying){
    musicEl.play().catch(()=>{}); // may be blocked until user interacts
    musicPlaying = true;
  } else {
    musicEl.pause();
    musicPlaying = false;
  }
}

/* ---------- Countdown (toggle to avoid multiple intervals) ---------- */
let countdownRunning = false;
let countdownInterval = null;
function toggleCountdown(){
  if(countdownRunning){
    clearInterval(countdownInterval);
    countdownRunning = false;
    document.getElementById('timer').innerText = '';
  } else {
    startCountdown();
  }
}
function startCountdown(){
  const target = new Date('December 14, 2025 00:00:00').getTime();
  countdownRunning = true;
  updateCountdown(); // immediate update
  countdownInterval = setInterval(updateCountdown, 1000);
  function updateCountdown(){
    const now = Date.now();
    const diff = target - now;
    if(diff <= 0){
      document.getElementById('timer').innerText = 'ğŸ‰ Happy Birthday!';
      clearInterval(countdownInterval);
      countdownRunning = false;
      return;
    }
    const d = Math.floor(diff / (1000*60*60*24));
    const h = Math.floor((diff / (1000*60*60)) % 24);
    const m = Math.floor((diff / (1000*60)) % 60);
    const s = Math.floor((diff / 1000) % 60);
    document.getElementById('timer').innerText = `â³ ${d}d ${h}h ${m}m ${s}s`;
  }
}

/* ---------- Quotes (one click shows next) ---------- */
const quotes = [
  "I love you more than words can say ğŸ’–",
  "You are my today and all my tomorrows â¤ï¸",
  "With you, everything feels perfect ğŸ’•"
];
let quoteIndex = 0;
function showQuote(){
  document.getElementById('quoteText').innerText = quotes[quoteIndex];
  quoteIndex = (quoteIndex + 1) % quotes.length;
}

/* ---------- Fireworks ---------- */
function startFireworks(){
  for(let i=0;i<20;i++){
    const f = document.createElement('div');
    f.className = 'firework';
    f.style.left = (Math.random()*90 + 5) + 'vw';
    f.style.top = (Math.random()*80 + 5) + 'vh';
    document.body.appendChild(f);
    setTimeout(()=> f.remove(), 1100);
  }
}

/* ---------- Cake open + cut ---------- */
function openCake(){ openBox('cake'); } // backward-compat if you used earlier showSection
function openBox(id){
  // ensure cake visible; we use #cake element and cakeMsg
  if(id === 'cake'){
    document.getElementById('cake').style.display = 'block';
    document.getElementById('cakeMsg').style.display = 'none';
  }
}
function cutCake(){
  const cake = document.getElementById('cake');
  const msg  = document.getElementById('cakeMsg');
  if(!cake) return;
  // disable pointer events briefly
  cake.style.pointerEvents = 'none';
  // cut animation: tilt + shrink + fade
  cake.style.transform = 'scale(0.85) rotate(-8deg)';
  cake.style.opacity = '0.25';
  setTimeout(()=>{
    msg.style.display = 'block';
    cake.style.pointerEvents = '';
  }, 600);
}

/* Prevent image dragging (UX) */
document.getElementById('cake').ondragstart = () => false;

/* ---------- Ensure the page is ready (small initial setup) ---------- */
document.addEventListener('DOMContentLoaded', ()=> {
  // hide cake message initially (already hidden by CSS)
  document.getElementById('cakeMsg').style.display = 'none';
  // pre-load music (optional)
  try { musicEl.load(); } catch(e){}
});
</script>

</body>
</html>
